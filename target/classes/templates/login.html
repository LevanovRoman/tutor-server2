<!doctype html>
<html lang="en" xmlns:th="https://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity6">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Вход</title>
    <link rel="stylesheet" type="text/css" th:href="@{/webjars/bootstrap/css/bootstrap.min.css}"  />
</head>
<body>
<!--<div class="container col-md-offset-3 col-md-8 mt-lg-5">-->
    <nav class="navbar navbar-expand-lg  navbar-light bg-dark">
        <div class="container-fluid">
            <a class="navbar-brand text-white" href="#">History Testing</a>
            <button class="navbar-toggler btn btn-light bg-white" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item mx-5">
                        <a class="nav-link active text-white" aria-current="page" th:href="@{'/'}">Home</a>
                    </li>
                    <li class="nav-item mx-5">
                        <a class="nav-link text-white" th:href="@{'/question'}">Questions</a>
                    </li>
                    <!--                    <li class="nav-item mx-5">-->
                    <!--                        <a class="nav-link text-white" th:href="@{'/questions/new'}">Add Question</a>-->
                    <!--                    </li>-->
                    <li class="nav-item mx-5">
                        <a class="nav-link text-white" th:href="@{'/quiz/home'}">Start Quiz</a>
                    </li>
                </ul>
                <ul class="navbar-nav navbar-right">
                    <li class="nav-item" sec:authorize="!isAuthenticated()">
                        <a class="nav-link text-light px-5" href="#" th:href="@{/registration/registration-form}">Регистрация</a>
                    </li>
                    <li class="nav-item" sec:authorize="!isAuthenticated()">
                        <a class="nav-link text-light" href="#" th:href="@{/login}">Войти</a>
                    </li>
                    <li class="nav-item" sec:authorize="isAuthenticated()">
                        <a class="nav-link text-light" href="#" th:href="@{/logout}">Выйти</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="row mt-4">
        <div th:if="${param.error}" class="col-sm-8">
            <p class="alert alert-danger alert-dismissible fade show" role="alert">Неверные логин или пароль</p>
        </div>

        <div th:if="${param.reset_success}" class="col-sm-8">
            <p class="alert alert-info alert-dismissible fade show" role="alert">Вы успешно сбросили свой пароль, пожалуйста, войдите в систему.</p>
        </div>

        <div th:if="${param.verified}" class="col-sm-8">
            <p class="alert alert-info alert-dismissible fade show" role="alert">Ваша учетная запись подтверждена. Пожауйста, войдите в систему.</p>
        </div>
        <div th:if="${param.valid}" class="col-sm-8">
            <p class="alert alert-info alert-dismissible">Электронная почта успешно подтверждена, пожалуйста, войдите в систему.</p>
        </div>

        <!-- show logout warning alert when logged out. -->
        <div th:if="${param.logout}" class="col-sm-8">
            <p class="alert alert-warning">Вы вышли из системы.</p>
        </div>
    </div>

    <div class="row justify-content-center">
        <div class="col-8 text-center">
            <form th:action="@{/login}" method="post" class="px-4">
                <h2 class="mb-4">Вход </h2>
                <div class="mb-3 row">
                    <label for="email" class="col-sm-3 col-form-label fs-5">Почта</label>
                    <div class="col-sm-6">
                        <input type="text" class="form-control" id="email" name="email"
                               required autofocus="autofocus">
                    </div>
                </div>

                <div class="mb-3 row">
                    <label for="password" class="col-sm-3 col-form-label fs-5">Пароль</label>
                    <div class="col-sm-6">
                        <input type="password" class="form-control" name="password" id="password" required
                               autofocus="autofocus">
                    </div>
                </div>

                <div class="d-grid mt-5 mb-5 col-4 mx-auto">
                    <button type="submit" name="login" id="login" class="btn btn-primary"> Войти</button>

                </div>
            </form>
            <div>
                <span> Ещё не зарегистрированы? <a href="#" th:href="@{/registration/registration-form}">Регистрация</a> </span>
                <!--                <div class="vr"></div>-->
                <div class="mt-3">
                    <span><a href="/" th:href="@{registration/forgot-password-request}">Забыли пароль?</a> </span>
                </div>

            </div>
        </div>
    </div>
<!--</div>-->
</body>
</html>
